{"version":3,"sources":["App.js","index.js"],"names":["App","key","useState","articles","setArticles","searchQuery","setSearchQuery","loading","setLoading","url","setUrl","useEffect","console","log","fetch","then","result","json","data","catch","error","handleSubmit","e","preventDefault","handleChange","target","value","showSearchForm","className","onSubmit","type","onChange","placeholder","showStories","map","story","index","showStory","image","showStoryWithImage","showStoryWithoutImage","src","alt","title","href","description","publishedAt","slice","showLoader","class","role","id","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kNAoIeA,MAjIf,WAEE,IAAMC,EAAM,mCAFC,EAWmBC,mBAAS,IAX5B,mBAWNC,EAXM,KAWIC,EAXJ,OAYyBF,mBAAS,QAZlC,mBAYNG,EAZM,KAYOC,EAZP,OAaiBJ,oBAAS,GAb1B,mBAaNK,EAbM,KAaGC,EAbH,OAcSN,mBAAS,+CAAD,OAAgDD,IAdjE,mBAcNQ,EAdM,KAcDC,EAdC,KA0BbC,qBAAU,WATRH,GAAW,GACXI,QAAQC,IAAIJ,GACZK,MAAML,GACLM,MAAK,SAAAC,GAAM,OAAIA,EAAOC,UACtBF,MAAK,SAAAG,GAASd,EAAYc,EAAKf,UAAWK,GAAW,MACrDW,OAAM,SAAAC,GAAK,OAAIR,QAAQC,IAAIO,MAC5BZ,GAAW,KAKV,CAACC,IAEJ,IAAMY,EAAe,SAACC,GACpBA,EAAEC,iBAEFb,EAAO,oCAAD,OAAqCL,EAArC,kBAA0DJ,KAG5DuB,EAAe,SAACF,GACpBhB,EAAegB,EAAEG,OAAOC,QAYpBC,EAAiB,WACrB,OACE,uBAAMC,UAAU,cAAcC,SAAUR,EAAxC,UACI,uBAAOO,UAAU,eAAeE,KAAK,OAAOJ,MAAOrB,EAAa0B,SAAUP,EAAcQ,YAAY,WACpG,wBAAQJ,UAAU,kBAAlB,wBAWFK,EAAc,WAClB,OACE,qBAAKL,UAAU,YAAf,SACGzB,EAAS+B,KAAI,SAACC,EAAOC,GAAR,OAAkBC,EAAUF,EAAOC,SAKjDC,EAAY,SAACF,EAAOC,GACxB,OAAuB,MAAfD,EAAMG,MAAiBC,EAAmBJ,EAAOC,GAASI,EAAsBL,EAAOC,IAG3FG,EAAqB,SAACJ,EAAOC,GACjC,OACE,qBAAKR,UAAU,iBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,qBAAKa,IAAKN,EAAMG,MAAOV,UAAU,WAAWc,IAAKP,EAAMQ,UAEzD,qBAAKf,UAAU,WAAf,SACE,sBAAKA,UAAU,YAAf,UACE,6BAAI,mBAAGgB,KAAMT,EAAM1B,IAAKgB,OAAO,SAA3B,SAAqCU,EAAMQ,UAC/C,mBAAGf,UAAU,YAAb,SAA0BO,EAAMU,cAChC,mBAAGjB,UAAU,YAAb,SAAyB,uBAAOA,UAAU,aAAjB,SAA+BO,EAAMW,YAAYC,MAAM,EAAE,iBATrDX,IAiBnCI,EAAwB,SAACL,EAAOC,GACpC,OACE,qBAAKR,UAAU,iBAAf,SACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,SAAf,SACE,sBAAKA,UAAU,YAAf,UACE,6BAAI,mBAAGgB,KAAMT,EAAM1B,IAAKgB,OAAO,SAA3B,SAAqCU,EAAMQ,UAC/C,mBAAGf,UAAU,YAAb,SAA0BO,EAAMU,cAChC,mBAAGjB,UAAU,YAAb,SAAyB,uBAAOA,UAAU,aAAjB,SAA+BO,EAAMW,YAAYC,MAAM,EAAE,gBANrDX,IAcnCY,EAAa,WACjB,OACE,qBAAKC,MAAM,gCAAX,SACE,qBAAKA,MAAM,iBAAiBC,KAAK,SAAjC,SACE,sBAAMD,MAAM,UAAZ,6BAMR,OACE,gCAhFE,sBAAKrB,UAAU,6BAA6BuB,GAAG,MAA/C,UACE,mBAAGvB,UAAU,eAAegB,KAAK,IAAjC,0BACCjB,OAgBFpB,EAA0ByC,IAAhBf,QC1DjBmB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.1bb2c3f7.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport \"./App.css\";\n\nfunction App() {\n\n  const key = \"fd5533de5ca2bde3e3d7ca9f8c4792f5\";\n  // Format today's date for the API\n  const formatTime = () => {\n    const today = new Date(Date.now());\n    return `${today.getYear() + 1900}`\n    + `-${today.getMonth() >= 10 ? today.getMonth() : \"0\" + today.getMonth().toString()}`\n    + `-${today.getDate() >= 10 ? today.getDate() : \"0\" + today.getDate().toString()}`;\n  }\n\n  const [articles, setArticles] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"None\");\n  const [loading, setLoading] = useState(false);\n  const [url, setUrl] = useState(`https://gnews.io/api/v3/search?q=None&token=${key}`);\n\n  const fetchArticles = () => {\n    setLoading(true);\n    console.log(url);\n    fetch(url)\n    .then(result => result.json())\n    .then(data => {setArticles(data.articles); setLoading(false)})\n    .catch(error => console.log(error));\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    fetchArticles();\n  }, [url]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    setUrl(`https://gnews.io/api/v3/search?q=${searchQuery}&token=${key}`);\n  }\n\n  const handleChange = (e) => {\n    setSearchQuery(e.target.value);\n  }\n\n  const showNavBar = () => {\n    return (\n      <nav className=\"navbar navbar-dark bg-dark\" id=\"nav\">\n        <a className=\"navbar-brand\" href=\"#\">GNews Search</a>\n        {showSearchForm()}\n      </nav>\n    );\n  }\n\n  const showSearchForm = () => {\n    return (\n      <form className=\"form-inline\" onSubmit={handleSubmit}>\n          <input className=\"form-control\" type=\"text\" value={searchQuery} onChange={handleChange} placeholder=\"Search\"/>\n          <button className=\"btn btn-success\">Search</button>\n      </form>\n    );\n  }\n\n  const showBody = () => {\n    return (\n      !loading ? showStories() : showLoader()\n    );\n  }\n\n  const showStories = () => {\n    return (\n      <div className=\"container\">\n        {articles.map((story, index) => showStory(story, index))}\n      </div>\n    );\n  }\n\n  const showStory = (story, index) => {\n    return (story.image != null) ? showStoryWithImage(story, index) : showStoryWithoutImage(story, index);\n  }\n\n  const showStoryWithImage = (story, index) => {\n    return (\n      <div className=\"card news-card\" key={index}>\n        <div className=\"row\">\n          <div className=\"col-md-4\">\n            <img src={story.image} className=\"card-img\" alt={story.title}/>\n          </div>\n          <div className=\"col-md-8\">\n            <div className=\"card-body\">\n              <h5><a href={story.url} target=\"_blank\">{story.title}</a></h5>\n              <p className=\"card-text\">{story.description}</p>\n              <p className=\"card-text\"><small className=\"text-muted\">{story.publishedAt.slice(0,10)}</small></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const showStoryWithoutImage = (story, index) => {\n    return (\n      <div className=\"card news-card\" key={index}>\n        <div className=\"row\">\n          <div className=\"col-md\">\n            <div className=\"card-body\">\n              <h5><a href={story.url} target=\"_blank\">{story.title}</a></h5>\n              <p className=\"card-text\">{story.description}</p>\n              <p className=\"card-text\"><small className=\"text-muted\">{story.publishedAt.slice(0,10)}</small></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const showLoader = () => {\n    return (\n      <div class=\"d-flex justify-content-center\">\n        <div class=\"spinner-border\" role=\"status\">\n          <span class=\"sr-only\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {showNavBar()}\n      {showBody()}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}